#config PLATFORM CPU_MPMD
#config PROCESSES 4
#config CORES 8
#config MODE debug

array<int,16,dist> as = {7};
array<int,16,dist> bs;
array<int,16,dist> cs = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16};

array<int,16,copy> asc = {7};
array<int,16,copy> bsc;
array<int,16,copy> csc = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16};

int sum(int a, int b){
	return a + b;
}

main{
	
	as.show();
	bs.show();
	cs.show();
	
	mkt::roi_start();
	
	int a = 0;
	int b = 0;
	int c = 0;
	int ac = 0;
	int bc = 0;
	int cc = 0;
	
	a = as.fold(0,sum());
	b = bs.fold(0,sum());	
	c = cs.fold(0,sum());
	
	ac = asc.fold(0,sum());
	bc = bsc.fold(0,sum());	
	cc = csc.fold(0,sum());
	
	//d = 
	
	mkt::roi_end();
	
	mkt::print("a = %i; b = %i; c = %i\n", a,b,c);
	mkt::print("ac = %i; bc = %i; cc = %i\n", ac,bc,cc);
}
