#config PLATFORM CPU
#config PROCESSES 4

matrix<double,16,16,dist> as;

double init(int x, int y, double a){
	return (double) x + y;
}

double square(double a){
	return a * a;
}

double sum(double a, double b){
	return a + b;
}

main{
	as.mapIndexInPlace(init());
	as.show();
	as.mapInPlace(square());
	double f = as.fold(0.0, sum());
	mkt::print("Frobenius norm is %.5f.\n", f);
}
