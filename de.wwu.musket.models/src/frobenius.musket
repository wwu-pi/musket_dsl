#config PLATFORM CPU
#config PROCESSES 4

matrix<double,16,16,dist> a;

double init(int x, int y, double a){
	return x + y;
}

double square(double a){
	return a * a;
}

double sum(double a, double b){
	return a + b;
}

main{
	a.show();
	a.mapIndexInPlace(init());
	a.mapInPlace(square());
	double f = a.fold(0, sum());
	printf("Frobenius norm is %.5f.", f);
}
